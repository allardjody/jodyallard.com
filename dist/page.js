function Page(){this.page=null,this.last=null,this.pages={},$("article").hide()}Page.prototype.register=function(e){return console.log("page: register page attempt made"),void 0===e.name?!1:void 0===e.onBack?!1:void 0===e.init?!1:void 0===e.exit?!1:(console.log("page: "+e.name+" registered"),void(this.pages[e.name]=e))},Page.prototype.set=function(e){var t={};if("object"==typeof e&&(t=e,e=t.room),void 0===this.pages[e])return!1;console.log("Page ==> "+e),null!==this.page&&(console.log(this.page+" => "+e),"function"==typeof this.pages[this.page].exit&&(console.log("page: exec exit on '"+this.page+"'"),this.pages[this.page].exit()),this.last=this.page),this.page=e;var o=Array.prototype.slice.call(arguments);o.shift(),console.log(o),this.pages[e].nav===!1?$("#Nav").hide():$("#Nav").show(),this.pages[e].back===!1?($("#logo").show(),$("#back").hide()):($("#logo").hide(),$("#back").show()),t.exec!==!1&&this.pages[e].init.apply(this,o)},Page.prototype.last=function(){return this.last},Page.prototype.get=function(){return this.page},Page.prototype.goBack=function(){var e=this.last;return void 0===this.pages[e]?!1:(console.log("Page ==> "+e),null!==this.page&&("function"==typeof this.pages[this.page].exit&&this.pages[this.page].exit(),this.last=this.page),console.log(e+" <= "+this.last),this.set({room:e,exec:!1}),void this.pages[e].onBack())},window.page=new Page;